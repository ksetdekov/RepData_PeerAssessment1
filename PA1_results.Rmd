---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---


## Loading and preprocessing the data
Load data into correct format

* Check if activity.csv already exists, unpack if necessary

* using read_csv import data with correct data types

* look at the head of the data and summary to figure out basics

```{r}
if (!file.exists("./activity.csv"))
{
        unzip("./activity.zip")
}
library(readr)
activity <- read_csv("activity.csv", col_types = cols(date = col_date(format = "%Y-%m-%d"), 
    steps = col_number()))
head(activity)
summary(activity)

```
Provide a guick look at steps destibution:

* by interval

* day

* both

```{r}
library(ggplot2)
qplot(activity$interval,activity$steps)+theme_bw()
qplot(activity$date,activity$steps)+theme_bw()
x <- ggplot(data = activity, mapping = aes(x=date, y=interval, col=steps))
x+geom_point()+theme_bw()
```

## What is mean total number of steps taken per day?

<<<<<<< HEAD
```{r}
activityclear <- na.omit(activity)
activityclear$datenum <- as.numeric(activityclear$date)
activityclear <- activityclear[,-2]
 library(party)
 cfit1 <- ctree(steps ~ ., data = activityclear[,-3])
 activityclear$pred <- predict(cfit1,activityclear)
qplot(activityclear$interval,activityclear$pred, geom = "line") 
=======
For this part of the assignment, you can ignore the missing values in the dataset.

1. Make a histogram of the total number of steps taken each day

2. Calculate and report the mean and median total number of steps taken per day
```{r}
library(dplyr)
activity %>% group_by(date) %>% mutate(sumstep=cumsum(steps))-> test
daysteps<- aggregate(steps ~ date, activity, sum)
ggplot(daysteps, aes(x=steps))+ geom_histogram()+labs(x="Number of steps per day", y="Count", title = "Total daily steps distribution")+geom_vline(aes(xintercept=mean(daysteps$steps, na.rm = TRUE), color="mean"), show.legend=TRUE, size=2)+geom_vline(aes(xintercept=median(daysteps$steps, na.rm = TRUE), color="median"), show.legend=TRUE)+scale_color_brewer(name="statistics", palette = "Dark2")+theme_bw()

mean(daysteps$steps, na.rm = TRUE)
median(daysteps$steps, na.rm = TRUE)
>>>>>>> cf1f7f4ab4208309f53758a40a4ad4128ba2ebbd
```


## What is the average daily activity pattern?



## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
